<!-- å°†æŒ‰é’®åŒ…è£…åœ¨æˆ‘ä»¬çš„è‡ªå®šä¹‰å…ƒç´ â€œastro-heartâ€ä¸­ã€‚ -->
<astro-heart class="bg-pink-400 rounded px-2">
  <button aria-label="Heart" class="cursor-pointer p-2">ğŸ’œ</button> Ã— <span
    >0</span
  >
</astro-heart>

<script>
  // ä¸ºæˆ‘ä»¬çš„æ–° HTML è‡ªå®šä¹‰å…ƒç´ å®šä¹‰è¡Œä¸ºã€‚
  class AstroHeart extends HTMLElement {
    connectedCallback() {
      let count = 0;

      const heartButton = this.querySelector("button");
      const countSpan = this.querySelector("span");

      console.log(heartButton, countSpan);

      // æ¯æ¬¡å•å‡»æŒ‰é’®æ—¶ï¼Œæ›´æ–°è®¡æ•°ã€‚
      heartButton?.addEventListener("click", () => {
        count++;

        console.log("=-=-=-=-=-=");

        if (countSpan) {
          countSpan.textContent = count.toString();
        }
      });
    }
  }

  // å‘Šè¯‰æµè§ˆå™¨å°†æˆ‘ä»¬çš„ AstroHeart ç±»ç”¨äº <astro-heart> å…ƒç´ ã€‚
  customElements.define("astro-heart", AstroHeart);
</script>
